<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >
    <title>ES6</title>
  </head>
  <body>
    <script>
      //动物类
      class Animal{ 
          constructor(name){
              this.name=name
          }
          mynameis(){
              console.log('my name is '+this.name)
              console.log('pizza1 这个对象有 name 这个属性')
              console.log('pizza1 这个对象没有 mynameis 这个属性（函数）')
              console.log('pizza1 这个对象为什么能运行 mynameis 这个属性（函数）？')
              console.log('因为 pizza1 这个对象所继承的类Animal有声明 mynameis 这个属性（函数）')
          }
      }
      const pizza1=new Animal('Pizza')
      pizza1.mynameis()

      //犬类
      class Dog extends Animal{
          constructor(age){
              super('PP') // 用了extends继承某父类，必须调用函数super()，否则调用this会报错，因为this=undefined
              this.age=age
          }
      }
      const pizza2=new Dog(1)



      console.log('\n')
      console.log('\n')
      console.log('\n')

      class Car {
        constructor(brand,type){
          console.log('Car的构造函数,将创建一个实例')
          this.type=type
          this.brand=brand
        }
        sayName(){
          console.log("这是一辆"+this.brand+"牌"+this.type+"轿车")
        }
      }

      const car = new Car("奔驰","商务型")
      console.log(car.sayName())
      console.log(car.hasOwnProperty("type"))
      console.log(car.hasOwnProperty("brand"))
      console.log(car.hasOwnProperty("sayName"))
      console.log(car.__proto__.hasOwnProperty("sayName"))

      class Benz extends Car {
        constructor(type,style){
          super("奔驰",type) // 有了super() 才能使用this，不然会undefined
          this.style=style
        }
      }
      const suv = new Benz("家庭型","GLK200")
      console.log(suv instanceof Benz)
      console.log(suv instanceof Car)
      console.log(Benz.__proto__ === Car);
      console.log(Benz.prototype.__proto__ == Car.prototype)

      // => 后面 expression 和 statement 有区别
      const datas=[1,2,3,4]
      // datas.map(function(data,index){return 2*data})
      // => + 无{} = function { return } 相同
      console.log(datas.map((data,index)=>2*data)) // expression [2, 4, 6, 8] 
      // datas.map(function(data,index){ 2*data})
      // => + {} = function {  } 相同
      console.log(datas.map((data,index)=>{ 2*data })) // statement [undefined, undefined, undefined, undefined]
      const arr=[];
      datas.forEach((data,index)=>{
        if(index%2==0) arr.push(data)
      })
      console.log(arr);
    </script>
  </body>
</html>
