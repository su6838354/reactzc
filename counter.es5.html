<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >
    <title>计数器 ES5</title>
  </head>
  <body>
    <div>
        <button id="minus">自减</button>
        <button id="plus">自增</button>
        <button id="plus_when_odd">逢奇自增</button>
        <button id="plus_after_delay">延迟1秒自增</button>
    </div>
    <p>计数：<span id="count">0</span></p>
    <script>
      "use strict";
      var value=0;
      var _minus=document.getElementById("minus"),
      _plus=document.getElementById("plus"),
      _plus_when_odd=document.getElementById("plus_when_odd"),
      _plus_after_delay=document.getElementById("plus_after_delay"),
      _count=document.getElementById("count");

      _minus.addEventListener('click',function(e) {
          value--; 
          _count.innerText=value;
      });
      _plus.addEventListener('click',function(e) {
          value++;
          _count.innerText=value;
      });
      _plus_when_odd.addEventListener('click',function(e) {
          if(value%2==0) return;
          value++; 
          _count.innerText=value;
      });
      _plus_after_delay.addEventListener('click',function(e) {
          plusAsync();
      });
      //包含一个默认参数delay,返回一个方法,一秒后加一
      function plusAsync(delay) {
          delay=delay||1000;
          return setTimeout(function () {
              _plus.click();
          }, delay);
      }
    </script>
  </body>
</html>
